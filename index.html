<!DOCTYPE html>
<html>
<head>
    <title>Notes</title>

    <!-- PWA related stuff -->
    <link rel="manifest" href="manifest.json" type="application/json">
	<link rel="apple-touch-icon" href="ui/app/images/NotesLogo_180.png"/>
	<link rel="apple-mobile-web-app-title" href="Notes" />
    
    <meta charset="UTF-8" />
    <meta id="themeColor" name="theme-color" content="#ff8080">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	
	<link rel="shortcut icon" href="ui/app/images/favicon.ico">

 	<script type="text/javascript" src="bootstrap.js"></script>
</head>
<body>
    
    <div id="all">
    </div>
    
    <div class="modal fade" id="genericDialog" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
        </div>
      </div>
    </div>
    
    <div class="modal fade" id="moveTargetSelector" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel"><span id="moveTargetSelectorText"></span></h5>
          </div>
          <div class="modal-body">
            <div id="moveTargetSelectorList">
            </div>
          </div>
          <div class="modal-footer">
          <button type="button" class="btn btn-secondary" id="moveSubmitButton">Move</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          </div>
        </div>
      </div>
    </div>
    
    <div class="modal fade" id="setBgImageDialog" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel"><span id="setBgImageDialogText"></span></h5>
          </div>
          <div class="modal-body">
	          <table class="dialogTable">
					<colgroup>
						<col span="1" style="width: 15%;">
						<col span="1" style="width: 70%;">
					</colgroup>
	          		<tbody>
		          		<tr>
		          			<td>Source</td>
		          			<td>
		          				<select id="setBgImageDialogTypeSelector">
		          					<option value="none" selected="selected">No image</option>
		          					<option value="upload">Upload from File</option>
		          					<option value="ref">Image Attachment in Notebook</option>
		          					<option value="url">Paste from Clipboard / Web Link</option>
		          				</select>
		          			</td>
		          		</tr>
		          		<tr>
		          			<td id="setBgImageDialogInputName"></td>
		          			<td id="setBgImageDialogInputSrcIn"></td>
		          		</tr>
		          		<tr>
		          			<td id="setBgImageDialogInputNameLine2"></td>
		          			<td id="setBgImageDialogInputSrcInLine2"></td>
		          		</tr>
		          		<tr>
		          			<td id="setBgImageDialogInputNameLine3"></td>
		          			<td id="setBgImageDialogInputSrcInLine3"></td>
		          		</tr>
		          		<tr>
		          			<td id="setBgImageDialogInputPreviewName"></td>
		          			<td id="setBgImageDialogInputPreview"></td>
		          		</tr>
	          		</tbody>
	          	</table>
          </div>
          <div class="modal-footer">
          <button type="button" class="btn btn-secondary" id="setBgImageDialogSubmitButton">Move</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          </div>
        </div>
      </div>
    </div>
    
    <div class="modal fade" id="createReferenceDialog" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel"><span id="createReferenceDialogText"></span></h5>
          </div>
          <div class="modal-body">
            <div id="createReferenceDialogContent">
            </div>
          </div>
          <div class="modal-footer">
          <button type="button" class="btn btn-secondary" id="createReferenceDialogSubmitButton">Create</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          </div>
        </div>
      </div>
    </div>
    
    <div class="modal fade" id="createDialog" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">New document under <span id="newRootText"></span>:</h5>
          </div>
          <div class="modal-body">
          	<table class="dialogTable">
				<colgroup>
					<col span="1" style="width: 15%;">
					<col span="1" style="width: 70%;">
				</colgroup>
          		<tbody>
	          		<tr>
	          			<td>Name</td>
	          			<td>
	          				<input id="createNameInput" type="text" />
	          				<div class="fa fa-exclamation iconOrange" id="createWarnIcon"></div>
	          				<div class="iconOrange" id="createWarnText"></div>
	          			</td>
	          		</tr>
	          		<tr>
	          			<td>Type</td>
	          			<td id="selectTypeContainer">
			            </td>
	          		</tr>
	          		<tr>
	          			<td><span id="uploadLabel">Upload File</span></td>
	          			<td>
	          				<input type="file" class="form-control" id="customFile" multiple />
			            </td>
	          		</tr>
	          		<tr>
	          			<td><span id="refLabel">Reference to</span></td>
	          			<td>
	          				<div id="refCell"></div>
			            </td>
	          		</tr>
          		</tbody>
          	</table>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" id="createSubmitButton">Create</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          </div>
        </div>
      </div>
    </div>
    
     <div class="modal fade" id="importDialog" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Import data from file:</h5>
          </div>
          <div class="modal-body">
          	  <input type="file" class="form-control" id="importFile" />
          	  <div id="importOptionsContainer"></div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" id="importDialogSubmitButton">Import</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          </div>
        </div>
      </div>
    </div>
    
    <div class="modal fade" id="uploadDialog" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title"><span id="uploadText"></span></h5>
          </div>
          <div class="modal-body">
          	<table>
          		<tr>
          			<td><span id="uploadLabel">Upload File</span></td>
          			<td>
          				<input type="file" class="form-control" id="uploadFile" />
		            </td>
          		</tr>
          	</table>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" id="uploadSubmitButton">Upload</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          </div>
        </div>
      </div>
    </div>
    
    <div class="modal fade" id="dropFilesDialog" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title"><span id="dropFilesText"></span></h5>
          </div>
          <div class="modal-body">
          	<table>
          		<tr>
          			<td><span id="dropFilesLabel">Target Document</span></td>
          			<td id="dropFilesSelectorContainer">
		            </td>
          		</tr>
          	</table>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" id="dropFilesSubmitButton">Add</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          </div>
        </div>
      </div>
    </div>
    
    <div class="modal fade" id="downloadDialog" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title"><span id="downloadText"></span></h5>
          </div>
          <div class="modal-body">
          	<table>
          		<tr>
          			<td>Download format</td>
          			<td>
          				<select id="downloadFormat">
          					<option value="txt" selected>Plain Text</option>
          					<option value="html" selected>HTML</option>
          				</select>
          			</td>
          		</tr>
          		<tr>
          			<td>Depth</td>
          			<td>
          				<select id="downloadDepth">
          					<option value="0" selected>Current Doc. only</option>
          					<option value="1">Include direct children</option>
          					<option value="2">Include direct children and their children</option>
          					<option value="all">Include all contained Documents</option>
          				</select>
		            </td>
          		</tr>
          		<tr>
          			<td>List Style</td>
          			<td>
          				<select id="downloadStyle">
          					<option value="none" selected>None</option>
          					<option value="numbers" selected>Numbers</option>
          					<option value="dashes">Dashes (-)</option>
          				</select>
		            </td>
          		</tr>
          		<tr>
          			<td>Contents</td>
          			<td>
          				<select id="downloadContents">
          					<option value="all" selected>Contents of all Documents</option>
          					<option value="main">Content of Main Document only</option>
          					<option value="none">No Contents (just Names)</option>
          				</select>
		            </td>
          		</tr>
          		<tr>
          			<td>Include Timestamps</td>
          			<td>
          				<select id="downloadTimestamps">
          					<option value="all">Timestamps of all Documents</option>
          					<option value="main">Timestamp of Main Document only</option>
          					<option value="none">No Timestamps</option>
          					<option value="current">Current time only (for main doc.)</option>
          				</select>
		            </td>
          		</tr>
          	</table>
          	<br>
          	<button type="button" class="btn btn-secondary" id="downloadPresetDocument">Set for Document Download</button>
          	<button type="button" class="btn btn-secondary" id="downloadPresetToc">Set for TOC Download</button>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" id="downloadSubmitButton">Download</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          </div>
        </div>
      </div>
    </div>
    
    <span id="treeoptions_mastercontainer"></span>
    <span id="userMenuContainer"></span>
    
    <div id="login" style="display: none;">
        <div id="loginContainer">
    		<form id="loginForm">
        		<div id="loginText">Please authenticate on the remote database.</div>
            	<table class="userLoginTable">
                	<tbody>
	                	<tr>
	                		<td>
		                		User:
	                		</td>
	                		<td>
	            				<input class="loginInput" type="text" id="username" required autocomplete="username">    		
	                		</td>
	                	</tr>
	                	<tr>
	                		<td>
		                		Password:
	                		</td>
	                		<td>
	            				<input class="loginInput" type="password" id="pwdInput" required autofocus autocomplete="current-password">
	                		</td>
	                	</tr>
	                	<tr>
	                		<td>
	                		</td>
	                		<td>
	            				<input class="loginInput" type="checkbox" id="trustInput"> <span>Trust this device?</span>
	                		</td>
	                	</tr>
                	</tbody>
            	</table>
            	<button type="button" class="btn btn-primary loginButton" id="loginSubmitButton">Log in</button>
            	<button type="button" class="btn btn-secondary loginButton" id="loginCancelButton">Cancel</button>
    		</form>
    	</div>
    </div>
    
    <!-- <div id="msgContainer">
    	<table>
    		<tbody id="messages"></tbody>
    	</table>
    </div>
     -->

   	<script type="module">
		import { downloadZip } from "./ui/lib/client-zip.js"
		window.downloadZip = downloadZip;
	</script>
</body>
</html>